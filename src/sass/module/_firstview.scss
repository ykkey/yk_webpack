/*
動きは全体的にがさつ

animation 背景支店切り替え
カクカクした動き
opacity だけスムーズに、、、したいないぁ

scroll first だけアニメーション

背景
黒　透過png(fix)　＞　グレー 黒　透過png　＞　木.jpg(fix)
グレーを斜めから動かす
黒でマッピング


// その他
グレー画像は透けてるのにしない、黒とグレーで固定

長めに作って、動かすだけ。
マスクなし


/_/ 動き

1. blockand section :: opacity -> 1  
1. before要素 :: ガタガタ斜めに合わせて移動
2.inner:: 中身fadein＋上
画像もついでspeckだけは
他はいらない

---*/


// first view
// animation 部分
.is-lpyaris_fadeIn {

    .p-lpyaris__mvCar {
        animation: fv_car .7s $easeAni2 0s;
        animation-fill-mode: forwards;
        &:before {
            animation: fv_car_shadow .7s $easeAni2 0s;
        }
    }
    .p-lpyaris__mvBg {
        &:before {
            animation: bg_firstview .6s $easeAni2 0.65s;
            animation-fill-mode: forwards;
        }
        &:after {
            animation: bg_firstview_f .6s $easeAni2 0.5s;
            animation-fill-mode: forwards;
        }
    }
    // 枠
    .p-lpyaris__inner--mv {
        animation: fv_inner .5s ease .4s;
        animation-fill-mode: forwards;
    }
    .p-lpyaris__mvTitle {
        animation: fv_inner .5s ease .6s;
        animation-fill-mode: forwards;
    }
    .p-lpyaris__mvDebut {
        animation: fv_inner .5s ease .7s;
        animation-fill-mode: forwards;
    }
}
// 土部分
.p-lpyaris__mvBg {
    &:before {
        opacity: 0;
    }
    &:after {
        opacity: 0;
    }
}

// タイトル
.p-lpyaris__mvTitle {
    opacity: 0;

}
// Debut予告
.p-lpyaris__mvDebut {
    opacity: 0;
}


.p-lpyaris__inner--mv {
    background-color: rgba(0, 0, 0, .65);
    border: getvw(15, "sp") solid rgba($yellow, .65);
    position: relative;
    height: (286 / $sp_fix_width * 100vw);
    opacity: 0;
    @include pc-layout {
        border: 15px solid rgba($yellow, .65);
        height: (896px / 2);
    }
}
.p-lpyaris__mv {
    position: relative;
    padding: 10px;
    padding: (10 / $sp_fix_width * 100vw);
    @include setValue(padding-bottom, 150,"sp");
    @include pc-layout {
        // height: 700px;
        padding: 0;
        padding-top: 50px;
        padding-bottom: 247px;
    }
    .p-lpyaris__inner {
        padding: 0;
    }
    &:before {
        content: "";
        display: block;
        position: fixed;
        left: 0;
        top: 0;
        width: 100vw;
        height: 100vh;
        background: image-url('mv/bg_fv.jpg') center center no-repeat;
        background-size: cover;
        // @include zindex(fv_bg);
        z-index: -1;
    }
    // background
    &Bg {
        // background: image-url('mv/bg_fv.jpg') center center no-repeat;
        // background-attachment: fixed;
        // background-size: cover;
        // position: fixed;
        position: absolute;
        @include zindex(fv_in);
        // @include zindex(fv_bg);
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;

        &:before ,
        &:after {
            content: "";
            display: block;
            position: absolute;
            bottom: 0;
            width: 100%;
        }
        &:after {
            height: 100%;
            right: 0;
            background: image-url('mv/bg_fixed.png') left bottom no-repeat;
            background-size: 100% auto;
        }
        &:before {
            right: 0;
            background-image: image-url('mv/bg_scroll.png');
            background-repeat: no-repeat;
            background-size: 100% auto;
            padding-top: 31.838412%;
        }
    }

    &Title {
        display: block;
        @include img100;
        position: absolute;
        // TODO: パーセント計算
        @include setWidth(305,"sp");
        @include setValue(left, 10, "sp");
        @include setValue(top, 38, "sp");
        @include pc-layout {
            // width: (1542px / 2);
            width: 810px;
            top: 5%;
            left: 5%;
        }
    }
    &Car {
        @include img100;
        position: absolute;
        @include setWidth(310, "sp");
        @include setValue(right, -5, "sp");
        @include setValue(bottom, -135, "sp");
        opacity: 0;
        @include pc-layout {
            // width: (1244px / 2);
            width: 680px;
            right: -5%;
            bottom: -60%;
        }
        img {
            position: relative;
        }
        &:before {
            display: block;
            content: "";
            position: absolute;
            background: image-url('mv/img_car_shadow.png') center center no-repeat;
            background-size: contain;
            width: 100%;
            height: 100px;
            bottom: 0;
            right: -20px;
            @include pc-layout {
                bottom: -20px;
                right: -10px;
                width: (1317px / 2);
                height: (568px / 2);
            }
        }
    }
    &Debut {
        background: image-url('mv/bg_debut.png') center center no-repeat;
        background-size: contain;
        // TODO 計算
        position: absolute;
        @include setValue(top, 140, "sp");
        @include setValue(left, -10, "sp");
        @include setValue(height, 87, "sp");
        @include setWidth(351, "sp");
        @include pc-layout {
            width: (1275px / 2);
            height: (315px / 2);
            left: -8%;
            top: 50%;
        }

        img {
            display: block;
            width: (826 / 1275 * 100%);
            height: auto;
            -webkit-backface-visibility: hidden;
            position: absolute;
            top: 48%;
            left: 50%;
            transform: translate(-50%,-50%);
        }
    }

}

